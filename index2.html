<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>台灣 24 項過敏原綜合計算器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .row-alert { background-color: #fff1f2; }
        .bg-tw-blue { background-color: #1e40af; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen font-sans">

    <div class="bg-tw-blue text-white py-6 px-4 text-center shadow-lg">
        <h1 class="text-2xl md:text-3xl font-bold">香精或香料成分 24 項計算系統</h1>
        <p class="mt-1 opacity-90 text-sm">符合台灣衛生福利部規範 - 支援多香精配比試算</p>
    </div>

    <main class="max-w-6xl mx-auto p-4 md:p-6">
        
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6">
            <div class="bg-white p-5 rounded-xl shadow-sm border-t-4 border-blue-500 col-span-1">
                <label class="block font-bold text-gray-700 mb-2">產品應用類型</label>
                <select id="productType" class="w-full p-2 border rounded-lg bg-gray-50 text-sm" onchange="calculateAll()">
                    <option value="leave-on">留置型 (門檻 0.001%)</option>
                    <option value="rinse-off">淋洗型 (門檻 0.01%)</option>
                </select>
            </div>
            
            <div class="bg-white p-5 rounded-xl shadow-sm border-t-4 border-orange-500 col-span-3">
                <label class="block font-bold text-gray-700 mb-2">香精在成品中的添加量 (%)</label>
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <span class="text-[10px] font-bold text-gray-400 uppercase">香精 A Dosage</span>
                        <input type="number" id="dosageA" value="0" step="0.01" class="w-full p-2 border rounded mt-1 bg-orange-50 text-center font-bold text-orange-800" oninput="calculateAll()">
                    </div>
                    <div>
                        <span class="text-[10px] font-bold text-gray-400 uppercase">香精 B Dosage</span>
                        <input type="number" id="dosageB" value="0" step="0.01" class="w-full p-2 border rounded mt-1 bg-orange-50 text-center font-bold text-orange-800" oninput="calculateAll()">
                    </div>
                    <div>
                        <span class="text-[10px] font-bold text-gray-400 uppercase">香精 C Dosage</span>
                        <input type="number" id="dosageC" value="0" step="0.01" class="w-full p-2 border rounded mt-1 bg-orange-50 text-center font-bold text-orange-800" oninput="calculateAll()">
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white shadow-xl rounded-2xl overflow-hidden">
            <div class="overflow-x-auto">
                <table class="w-full text-left min-w-[900px]">
                    <thead class="bg-slate-800 text-white text-xs uppercase">
                        <tr>
                            <th class="p-4 border-r border-slate-700 w-12 text-center">編號</th>
                            <th class="p-4 border-r border-slate-700">INCI NAME / 中文俗名</th>
                            <th class="p-4 border-r border-slate-700 text-center">CAS NO.</th>
                            <th class="p-2 border-r border-slate-700 text-center bg-orange-900/20">香精A (%)</th>
                            <th class="p-2 border-r border-slate-700 text-center bg-orange-900/20">香精B (%)</th>
                            <th class="p-2 border-r border-slate-700 text-center bg-orange-900/20">香精C (%)</th>
                            <th class="p-4 border-r border-slate-700 text-center bg-blue-900/20">成品總計 (%)</th>
                            <th class="p-4 text-center">標示結果</th>
                        </tr>
                    </thead>
                    <tbody id="allergenTable" class="text-sm divide-y divide-gray-200">
                        </tbody>
                </table>
            </div>
        </div>
    </main>

    <script>
        // 根據圖片資料整理的台灣 24 項清單
        const TW_24_LIST = [
            { id: 1, name: "Amyl Cinnamal", cas: "122-40-7", zh: "α-戊桂皮醛" },
            { id: 2, name: "Benzyl Alcohol", cas: "100-51-6", zh: "苯甲醇" },